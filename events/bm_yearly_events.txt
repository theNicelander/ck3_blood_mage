namespace = blood_mage_yearly_events

# Yearly event - Add xp to Blood Mages, double if following religion
blood_mage_yearly_events.001 = {
    hidden = yes
    trigger = { has_trait = lifestyle_blood_mage }
    immediate = {
        add_trait_xp = {
            trait = lifestyle_blood_mage
            track = ancient
            value = 1
        }
        if = {
            limit = { house = { has_house_modifier = dynasty_crimson_bloodline_modifier } }
            add_trait_xp = {
                trait = lifestyle_blood_mage
                track = bloodline
                value = {0 1}
            }   
        }
        if = {
            limit = { has_character_modifier = ancient_attuned }
            add_trait_xp = {
                trait = lifestyle_blood_mage
                track = ancient
                value = {0 1}
            }   
        }
        if = {
            limit = { has_character_modifier = enlightenment_attuned }
            add_trait_xp = {
                trait = lifestyle_blood_mage
                track = enlightenment
                value = {0 1}
            }   
        }
        if = {
            limit = { has_character_modifier = bloodline_attuned }
            add_trait_xp = {
                trait = lifestyle_blood_mage
                track = bloodline
                value = {0 1}
            }   
        }
        if = {
            limit = { has_character_modifier = benediction_attuned }
            add_trait_xp = {
                trait = lifestyle_blood_mage
                track = benediction
                value = {0 1}
            }   
        }
        if = {
            limit = { has_character_modifier = hematurgy_attuned }
            add_trait_xp = {
                trait = lifestyle_blood_mage
                track = hematurgy
                value = {0 1}
            }   
        }

    }
}
