# events/bm_education_enhancement_events.txt
namespace = bm_education_enhancement

bm_education_enhancement.001 = {
    type = character_event
    title = bm_education_enhancement.001.title
    desc = bm_education_enhancement.001.desc
    theme = witchcraft

    # Diplomacy education enhancement
    option = {
        name = bm_education_enhancement.001.a
        trigger = { 
            AND = {
                has_trait = education_diplomacy
                NOT = {has_trait = education_diplomacy_5 }
            }
        }
        duel = {
            skill = diplomacy
            target = root
            # Success
            50 = {
                desc = "Success"
                compare_modifier = {
                    value = scope:duel_value
                    multiplier = 5
                    min = -40
                }
                send_interface_toast = {
                    title = bm_education_enhancement.success.diplomacy
                    left_icon = root
                    level_up_trait_effect = {trait = education_diplomacy}
                }
            }
            # Failure
            50 = {
                send_interface_toast = {
                    title = bm_education_enhancement.failure
                    left_icon = root
                    temporary_negative_lifeforce_effect_minor = yes
                }
            }
        }
        ai_chance = { base = 100 }
    }

    # Martial education enhancement
    option = {
        name = bm_education_enhancement.001.b
        trigger = { 
            AND = {
                has_trait = education_martial
                NOT = {has_trait = education_martial_5 }
            }
        }
        duel = {
            skill = martial
            target = root
            # Success
            50 = {
                desc = "Success"
                compare_modifier = {
                    value = scope:duel_value
                    multiplier = 5
                    min = -40
                }
                send_interface_toast = {
                    title = bm_education_enhancement.success.martial
                    left_icon = root
                    level_up_trait_effect = {trait = education_martial}
                }
            }
            # Failure
            50 = {
                send_interface_toast = {
                    title = bm_education_enhancement.failure
                    left_icon = root
                    temporary_negative_lifeforce_effect_minor = yes
                }
            }
        }
        ai_chance = { base = 100 }
    }

    # Stewardship education enhancement
    option = {
        name = bm_education_enhancement.001.c
        trigger = { 
            AND = {
                has_trait = education_stewardship
                NOT = {has_trait = education_stewardship_5 }
            }
        }
        duel = {
            skill = stewardship
            target = root
            # Success
            50 = {
                desc = "Success"
                compare_modifier = {
                    value = scope:duel_value
                    multiplier = 5
                    min = -40
                }
                send_interface_toast = {
                    title = bm_education_enhancement.success.stewardship
                    left_icon = root
                    level_up_trait_effect = {trait = education_stewardship}
                }
            }
            # Failure
            50 = {
                send_interface_toast = {
                    title = bm_education_enhancement.failure
                    left_icon = root
                    temporary_negative_lifeforce_effect_minor = yes
                }
            }
        }
        ai_chance = { base = 100 }
    }

    # Intrigue education enhancement
    option = {
        name = bm_education_enhancement.001.d
        trigger = { 
            AND = {
                has_trait = education_intrigue
                NOT = {has_trait = education_intrigue_5 }
            }
        }
        duel = {
            skill = intrigue
            target = root
            # Success
            50 = {
                desc = "Success"
                compare_modifier = {
                    value = scope:duel_value
                    multiplier = 5
                    min = -40
                }
                send_interface_toast = {
                    title = bm_education_enhancement.success.intrigue
                    left_icon = root
                    level_up_trait_effect = {trait = education_intrigue}
                }
            }
            # Failure
            50 = {
                send_interface_toast = {
                    title = bm_education_enhancement.failure
                    left_icon = root
                    temporary_negative_lifeforce_effect_minor = yes
                }
            }
        }
        ai_chance = { base = 100 }
    }

    # Learning education enhancement
    option = {
        name = bm_education_enhancement.001.e
        trigger = { 
            AND = {
                has_trait = education_learning
                NOT = {has_trait = education_learning_5 }
            }
        }
        duel = {
            skill = learning
            target = root
            # Success
            50 = {
                desc = "Success"
                compare_modifier = {
                    value = scope:duel_value
                    multiplier = 5
                    min = -40
                }
                send_interface_toast = {
                    title = bm_education_enhancement.success.learning
                    left_icon = root
                    level_up_trait_effect = {trait = education_learning}
                }
            }
            # Failure
            50 = {
                send_interface_toast = {
                    title = bm_education_enhancement.failure
                    left_icon = root
                    temporary_negative_lifeforce_effect_minor = yes
                }
            }
        }
        ai_chance = { base = 100 }
    }

    # Portraits
    left_portrait = {
        character = root
        animation = personality_rational
    }
}