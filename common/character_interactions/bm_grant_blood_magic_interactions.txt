grant_blood_magic_interaction = {
	category = interaction_category_religion
	auto_accept = yes
	common_interaction = yes
	desc = grant_blood_magic_interaction_desc
	interface_priority = 150

	cost = { piety = 250 }

	is_shown = {
		scope:actor = {
			has_trait = blood_mage
			has_character_modifier = lifeforce_modifier
		}
		scope:recipient = {
			NOT = {
				has_trait = blood_mage
			}
		}
	}

	on_accept = {
		scope:recipient = {
			add_trait = blood_mage
			add_opinion = {
				target = scope:actor
				modifier = granted_blood_magic_modifier
				opinion = 50
			}
		}
		scope:actor = {
			remove_character_modifier = lifeforce_modifier
		}
	}

	# AI
	ai_potential = {
		is_adult = yes
	}
	ai_targets = {
		ai_recipients = family
		max = 5
	}

	# Same as witch
	ai_will_do = {
		base = -45
		
		# Do I like recipient & are they trustworthy
		opinion_modifier = {
			who = scope:actor
			opinion_target = scope:recipient
			multiplier = 0.5
		}
		compatibility_modifier = {
			who = scope:actor
			compatibility_target = scope:recipient
			multiplier = 0.2
		}
		opinion_modifier = {
			who = scope:recipient
			opinion_target = scope:actor
			multiplier = 0.5
		}

		# Are they important (to me)
		modifier = {
			add = {
				value = scope:recipient.highest_held_title_tier
				subtract = scope:actor.highest_held_title_tier
				multiply = 10
			}
		}
		modifier = {
			OR = {
				is_close_family_of = scope:recipient
				is_consort_of = scope:recipient
				has_relation_lover = scope:recipient
				has_relation_friend = scope:recipient
			}
			add = 20
		}
		modifier = {
			OR = {
				has_relation_best_friend = scope:recipient
				has_relation_soulmate = scope:recipient
			}
			add = 30
		}
		modifier = {
			exists = house
			exists = scope:recipient.house
			house = scope:recipient.house
			add = 10
		}
	}
}

ask_for_blood_magic_interaction = {
	category = interaction_category_religion
	auto_accept = yes
	common_interaction = yes
	desc = grant_blood_magic_interaction_desc
	interface_priority = 150

	cost = { piety = 1000 }

	is_shown = {
		scope:recipient = {
			has_trait = blood_mage
		}
		scope:actor = {
			NOT = {
				has_trait = blood_mage
			}
		}
	}

	on_accept = {
		scope:actor = {
			add_trait = blood_mage
		}
	}
	
	# AI
	ai_min_reply_days = 1
	ai_max_reply_days = 1

	ai_potential = {
		is_adult = yes
	}
	ai_will_do = {
		base = 100
	}

}
