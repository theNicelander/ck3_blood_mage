
#HEALTH

ai_modifier_based_on_health  = {
    modifier = {
        add = 100
        root = { health >= excellent_health } 
    }
    modifier = {
        add = 40
        root = { health >= good_health } 
    }
    modifier = {
        add = 20
        root = { health >= fine_health } 
    }
    modifier = { # don't do magic, if dying
        add = -999
        root = { health <= poor_health } 
    }
}

# Lifedraining
ai_willingness_to_lifedrain = {
    modifier = {
        is_knight_of = scope:actor
        add = -100
    }

    # Do I DISLIKE recipient & are they trustworthy
    opinion_modifier = {
        who = scope:actor
        opinion_target = scope:recipient
        multiplier = -0.5
    }
    compatibility_modifier = {
        who = scope:actor
        compatibility_target = scope:recipient
        multiplier = -0.2
    }
    opinion_modifier = {
        who = scope:recipient
        opinion_target = scope:actor
        multiplier = -0.5
    }

    # Are they important (to me)
    modifier = {
        add = {
            value = scope:recipient.highest_held_title_tier
            subtract = scope:actor.highest_held_title_tier
            multiply = -50
        }
    }
    modifier = {
        OR = {
            is_close_family_of = scope:recipient
            has_relation_friend = scope:recipient
        }
        add = -50
    }
    modifier = {
        OR = {
            has_relation_best_friend = scope:recipient
            has_relation_soulmate = scope:recipient
            is_consort_of = scope:recipient
            has_relation_lover = scope:recipient
        }
        add = -50
    }
    modifier = {
        exists = house
        exists = scope:recipient.house
        house = scope:recipient.house
        add = -50
    }
}

ai_willingness_to_do_postitive_magic = {
    modifier = { # Prioritise myself
        scope:actor = scope:recipient
        add = 999
    }
    modifier = { # don't do magic, if dying
        add = -500
        scope:actor = { health < good_health } 
    }
    # Do I LIKE recipient & are they trustworthy
    opinion_modifier = {
        who = scope:actor
        opinion_target = scope:recipient
        multiplier = 0.5
    }
    compatibility_modifier = {
        who = scope:actor
        compatibility_target = scope:recipient
        multiplier = 0.2
    }
    opinion_modifier = {
        who = scope:recipient
        opinion_target = scope:actor
        multiplier = 0.5
    }

    # Are they important (to me)
    modifier = {
        add = {
            value = scope:recipient.highest_held_title_tier
            subtract = scope:actor.highest_held_title_tier
            multiply = 20
        }
    }
    modifier = {
        OR = {
            is_close_family_of = scope:recipient
            has_relation_friend = scope:recipient
        }
        add = 20
    }
    modifier = {
        OR = {
            has_relation_best_friend = scope:recipient
            has_relation_soulmate = scope:recipient
            is_consort_of = scope:recipient
            has_relation_lover = scope:recipient
        }
        add = 50
    }
    modifier = {
        exists = house
        exists = scope:recipient.house
        house = scope:recipient.house
        add = 30
    }
    modifier = {
        scope:recipient = { is_knight_of = scope:actor }
        add = 40
    }
    modifier = {
        scope:recipient = { is_powerful_vassal_of = scope:actor }
        add = 30
    }
    modifier = {
        scope:recipient = { is_courtier_of = scope:actor } 
        add = 30
    }
}

ai_chance_scale_based_on_xp_in_track = {
    modifier = {
        has_trait_xp = {
            trait = lifestyle_blood_mage
            track = $TRACK$
            value >= 100
        }
        add = -100
    }
    modifier = {
        has_trait_xp = {
            trait = lifestyle_blood_mage
            track = $TRACK$
            value >= 80
        }
        add = -5
    }
    modifier = {
        has_trait_xp = {
            trait = lifestyle_blood_mage
            track = $TRACK$
            value >= 60
        }
        add = -5
    }
    modifier = {
        has_trait_xp = {
            trait = lifestyle_blood_mage
            track = $TRACK$
            value >= 30
        }
        add = -5
    }
    modifier = {
        has_trait_xp = {
            trait = lifestyle_blood_mage
            track = $TRACK$
            value <= 10
        }
        add = 5
    }
}



